<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>민주주의를 위한 자료 모음 💙</title>
<style>
  body {
    font-family: "Malgun Gothic", sans-serif;
    background-color: #f2f5f8;
    margin: 0;
    padding: 0;
    font-size: 14px;
  }
  .page-title {
    max-width: 700px;
    margin: 25px auto 20px;
    text-align: center;
    padding: 0 15px;
    line-height: 1.6;
    user-select: text;
  }
  .page-title .main-title {
    font-size: 20px;
    font-weight: bold;
  }
  .page-title .sub-title {
    font-size: 13px;
    font-weight: normal;
  }
  .chat-container {
    width: 100%;
    max-width: 500px;
    box-sizing: border-box;
    height: 600px;
    overflow-y: auto;
    margin: 0 auto;
    padding: 10px;
    background-color: #e0f3ff;
    border-radius: 15px;
    padding-bottom: 20px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
  }
  
.chat-card {
  max-width: 100%;
  padding: 16px;
  margin: 20px auto;
  border-radius: 12px;
  background-color: #ffffff;
  border: 1px solid #ccc;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
  font-size: 14px;
  line-height: 1.6;
  position: relative;
  word-wrap: break-word;
  box-sizing: border-box;
  text-align: left;}
  .timestamp {
    font-size: 12px;
    color: #888;
    text-align: right;
    margin-top: 4px;
  }
  .bubble-buttons {
    display: none;
    font-size: 12px;
    margin-top: 6px;
    text-align: right;
  }
  .search-bar, #input-area, #admin-panel {
    max-width: 500px;
    margin: 20px auto;
    text-align: center;
  }
  .search-bar input {
    width: 100%;
    max-width: 333px;
    margin: 0 auto;
    display: block;
    padding: 8px 12px;
    font-size: 14px;
    border: 1px solid #ccc;
    border-radius: 8px;
  }
  button {
    margin-top: 10px;
    padding: 6px 12px;
    font-size: 14px;
    border-radius: 8px;
    border: none;
    background-color: #aaa;
    color: white;
    cursor: pointer;
  }
  button:hover {
    background-color: #888;
  }
  #toast {
    display: none;
    position: fixed;
    bottom: 30px;
    left: 50%;
    transform: translateX(-50%);
    background-color: #333;
    color: #fff;
    padding: 10px 16px;
    border-radius: 20px;
    font-size: 14px;
    opacity: 0.9;
    z-index: 1000;
  }
  .chat-content.preview .inner-text {
    max-height: 7.3em;
    overflow: hidden;
  }
  .chat-content.expanded .inner-text {
    max-height: none;
  }
.chat-content .inner-text {
  transition: max-height 0.3s ease;
  user-select: text;
  font-size: 12px; /* 본문 내용 폰트 크기 */
}
.chat-content .inner-text strong:not(.prefix-tag) {
  margin-bottom: 0;
  display: inline;         /* 인라인 요소로 강제 */
  line-height: normal;     /* 라인 박스 높이 최소화 */
}

.chat-content .inner-text > strong {
  font-size: 14px;
  display: inline-block;
  margin-bottom: 10px;
  /* 밑줄 제거 */
}

/* 말머리에만 선 적용 */
.prefix-tag {
  border-bottom: 1px dashed #ccc;
  padding-bottom: 2px;
}



@keyframes sparkle {
  0%   { opacity: 1; text-shadow: 0 0 5px #3399ff; }
  50%  { opacity: 0.6; text-shadow: 0 0 12px #66ccff; }
  100% { opacity: 1; text-shadow: 0 0 5px #3399ff; }
}
.sparkling-text {
  animation: sparkle 1.5s infinite;
  font-weight: bold;
  color: #007bff;
}
</style>
</head>
<body>
<div id="toast">📋 복사</div>
<div class="page-title">
<div class="main-title">민주주의를 위한 자료 모음 💙</div>
<br/>
<div class="chat-container" id="chatBox"></div>
<div class="search-bar" style="display: flex; justify-content: center; gap: 8px; flex-wrap: wrap;">
  <select id="prefixFilter" onchange="filterMessages()" 
    style="flex: 0 0 auto; max-width: 120px; padding: 8px 12px; font-size: 14px; border: 1px solid #ccc; border-radius: 8px;">
    <option value="">전체 보기</option>
    <option value="📣 팩트 체크">📣 팩트 체크</option>
    <option value="🔔 참고 자료">🔔 참고 자료</option>
    <option value="🍀 정책 반응">🍀 정책 반응</option>
    <option value="🔵 박찬대 당대표">🔵 박찬대 당대표</option>
    <option value="✨포지티브 댓글">✨포지티브 댓글</option>
<option value="💬채팅용 한 줄(랜덤 복사)">💬채팅용 한 줄(랜덤 복사)</option>

  </select>
  <input id="searchInput" oninput="filterMessages()" placeholder="내용 검색" type="text"
    style="flex: 1 1 auto; min-width: 0; padding: 8px 12px; font-size: 14px; font-family: 'Malgun Gothic', sans-serif; border: 1px solid #ccc; border-radius: 8px; max-width: 340px;" />
</div>
<div id="admin-panel" style="display: flex; justify-content: center; gap: 10px;">
<button id="uploadRequestBtn" style="background-color: #fae100; color: #000; border: none; padding: 8px 12px; border-radius: 6px;">✉️ 업로드 요청</button>
  <button onclick="showPasswordPrompt()">🔒 관리자 전용</button>
</div>
<hr style="margin: 20px 0; border: none; border-top: 1px solid #ccc;" />
<div style="text-align:center; font-size:20px; margin-bottom:10px;">
  <strong class="sparkling-text">외부 공유 환영</strong>
</div>
<!-- ✅ 1. 항상 보이게 할 status-bar (visitor-message-box 바깥에 위치) -->
<div id="status-bar" style="display:flex; justify-content:center; gap:20px; font-size:13px; color:#555; margin-top:12px;">
  <div id="upload-count">오늘 업로드 요청을 불러오는 중...</div>
  <div id="visit-count">방문자 수를 불러오는 중...</div>
</div>

<!-- ✅ 2. 기본적으로 숨겨지는 업로드 요청 박스 -->
<div id="visitor-message-box" style="display:none; flex-direction: column; align-items: center; max-width: 500px; margin: 10px auto;">
  <textarea id="visitorMessage" placeholder="관리자에게 업로드 요청할 자료 링크를 주세요.(가급적 로그인 없이 볼 수 있는 자료로)" rows="4" style="width: 100%; padding: 8px; font-size: 14px; font-family: 'Malgun Gothic', sans-serif;"></textarea>
  <button onclick="submitVisitorMessage()" style="background-color: #007bff; color: white; border: none; padding: 8px 12px; border-radius: 6px;">📩 메시지 보내기</button>
</div>

<div id="input-area" style="display:none;">
  <select id="prefix" style="width: 100%; max-width: 500px; margin-bottom: 8px; padding: 6px; font-size: 14px;">
    <option value="">전체 보기</option>
    <option value="📣 팩트 체크">📣 팩트 체크</option>
    <option value="🔔 참고 자료">🔔 참고 자료</option>
    <option value="🍀 정책 반응">🍀 정책 반응</option>
    <option value="🔵 박찬대 당대표">🔵 박찬대 당대표</option>
    <option value="✨포지티브 댓글">✨포지티브 댓글</option>
<option value="💬채팅용 한 줄(랜덤 복사)">💬채팅용 한 줄(랜덤 복사)</option>

  </select>
  <textarea id="newMessage" placeholder="내용" rows="3" style="width: 100%; height: 160px; box-sizing: border-box; overflow-y: auto;font-family: 'Malgun Gothic', sans-serif;"></textarea>
  <br/>
  <button onclick="addOrUpdateMessage()">내용 추가</button>
<hr style="margin: 20px 0; border: none; border-top: 1px solid #ccc;" />
<div id="visitor-messages" style="margin-top: 20px;">
  <h4 style="text-align:left; font-size:16px;">📨 방문자 메시지</h4>
</div>
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
import {
  getFirestore,
  collection,
  getDocs,
  addDoc,
  deleteDoc,
  updateDoc,
  doc,
  getDoc,
  setDoc,
  serverTimestamp,
  query,
  orderBy
} from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";
const firebaseConfig = {
  apiKey: "AIzaSyAZHqkGXdH4XxL-0jprA2DB7YO4XhTdNmQ",
  authDomain: "chat-page-6d547.firebaseapp.com",
  projectId: "chat-page-6d547",
  storageBucket: "chat-page-6d547.appspot.com",
  messagingSenderId: "1087235341754",
  appId: "1:1087235341754:web:6583340a62f21068b5b183"
};
const app = initializeApp(firebaseConfig);
const db = getFirestore(app);
let isAdmin = false;
let editingId = null;

async function loadMessages() {
  const container = document.getElementById("chatBox");
const previousScrollTop = container.scrollTop;
  container.innerHTML = "";

  const q = query(collection(db, "message"), orderBy("timestamp", "asc"));
  
    function copyTextToClipboard(text) {
      const textarea = document.createElement("textarea");
      textarea.value = text;
      textarea.setAttribute("readonly", "");
      textarea.style.position = "absolute";
      textarea.style.left = "-9999px";
      document.body.appendChild(textarea);
      textarea.select();
      try {
        document.execCommand("copy");
        const toast = document.getElementById("toast");
        toast.style.display = "block";
        setTimeout(() => toast.style.display = "none", 1500);
      } catch (err) {
        console.error("복사 실패", err);
      }
      document.body.removeChild(textarea);
    }
  
  const snapshot = await getDocs(q);
  snapshot.forEach(docSnap => {
    const data = docSnap.data();
    const id = docSnap.id;
    const msg = data.content;
    const prefix = data.prefix || "";
const ts = data.timestamp ? data.timestamp.toDate() : new Date();
const yearShort = String(ts.getFullYear()).slice(2); 
const dateOnly = yearShort + '-' + String(ts.getMonth()+1).padStart(2, '0') + '-' + String(ts.getDate()).padStart(2, '0');
    const bubble = document.createElement("div");
    bubble.className = "chat-card";
    const contentDiv = document.createElement("div");
    contentDiv.className = "chat-content preview";
    const inner = document.createElement("div");
    inner.className = "inner-text";


const keywordStyles = [
  { word: "[지지 선언]", color: "#007bff" },     // 파란색
  { word: "[함께하는 사람들]", color: "#28a745" }, // 초록색
  { word: "[정보]", color: "#6f42c1" },          // 보라색
  { word: "[밭갈이]", color: "#dc3545" },          // 빨강색
  { word: "[인사 관련]", color: "#dc3545" },          // 빨강색
];

function escapeRegExp(str) {
  return str.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
}

let highlightedMsg = msg;
keywordStyles.forEach(({ word, color }) => {
  const regex = new RegExp(escapeRegExp(word), 'g');
  highlightedMsg = highlightedMsg.replace(
    regex,
    `<span style="font-weight: bold; color: ${color}; font-size: 13px;">${word}</span>`
  );
});




let formattedMsg = "";

if (prefix === "💬채팅용 한 줄(랜덤 복사)") {
  const lines = highlightedMsg.split('\n');
  formattedMsg = lines.map((line, idx) => {
    const color = idx % 2 === 0 ? '#000000' : '#888888'; // 홀수 줄은 검정, 짝수 줄은 회색
    return `<span style="color: ${color};">${line}</span>`;
  }).join('<br>');
} else {
  formattedMsg = highlightedMsg.replace(/\n/g, '<br>');
}

// 공통 후처리

formattedMsg = highlightedMsg
  .replace(/\*\*(.+?)\*\*/g, '<strong>$1</strong>')
  .replace(/~~(.+?)~~/g, '<span style="font-size: 12px; color: #888;">$1</span>')
  .replace(/(https?:\/\/[^\s<]+)/g, '<a href="$1" target="_blank">$1</a>')
  .replace(/\n/g, '<br>'); // 🔥 이 줄 추가!





inner.innerHTML = `${prefix ? `<strong class="prefix-tag">${prefix}</strong><br>` : ""}` + formattedMsg;






    const toggle = document.createElement("div");
    toggle.className = "toggle-more";
    toggle.textContent = "더보기";
    toggle.style.cssText = "text-align:right; font-size:12px; color:gray; cursor:pointer;";
    toggle.addEventListener("click", (event) => {
      event.stopPropagation();
      contentDiv.classList.toggle("expanded");
      toggle.textContent = contentDiv.classList.contains("expanded") ? "줄이기" : "더보기";
    });
    contentDiv.appendChild(inner);
    requestAnimationFrame(() => {
      const oldToggle = contentDiv.querySelector(".toggle-more");
      if (oldToggle) oldToggle.remove();
      const isOverflowed = inner.scrollHeight > inner.clientHeight + 4;
      if (isOverflowed) {
        const toggle = document.createElement("div");
        toggle.className = "toggle-more";
        toggle.textContent = "더보기";
        toggle.style.cssText = "text-align:right; font-size:12px; color:gray; cursor:pointer;";
        toggle.addEventListener("click", (event) => {
          event.stopPropagation();
          contentDiv.classList.toggle("expanded");
          toggle.textContent = contentDiv.classList.contains("expanded") ? "줄이기" : "더보기";
        });
        contentDiv.appendChild(toggle);
      }
    });
    const copyBtn = document.createElement("button");
    copyBtn.textContent = "복사";
    copyBtn.style.cssText = "position: absolute; bottom: 5px; left: 10px; font-size: 12px; padding: 4px 8px; border-radius: 6px; background-color: #eee; color: #000; border: none; cursor: pointer;";








copyBtn.onclick = () => {
  let raw = inner.innerText.trim();

  // 말머리 제거
  if (
    raw.startsWith("📣") ||
    raw.startsWith("🔔") ||
    raw.startsWith("🍀") ||
    raw.startsWith("🔵") ||
    raw.startsWith("✨") ||
    raw.startsWith("💬")
  ) {
    raw = raw.substring(raw.indexOf("\n") + 1).trim();
  }

  // 💬채팅용 한 줄인 경우: 한 줄만 랜덤으로 복사


if (prefix === "💬채팅용 한 줄(랜덤 복사)") {
  const lines = raw.split("\n").filter(line => line.trim() !== "");
  if (lines.length > 0) {
    raw = lines[Math.floor(Math.random() * lines.length)];
  }
}


  const textarea = document.createElement("textarea");
  textarea.value = raw;
  textarea.setAttribute("readonly", "");
  textarea.style.position = "absolute";
  textarea.style.left = "-9999px";
  document.body.appendChild(textarea);
  textarea.select();
  try {
    document.execCommand("copy");
    const toast = document.getElementById("toast");
    toast.style.display = "block";
    setTimeout(() => toast.style.display = "none", 1500);
  } catch (err) {
    console.error("복사 실패", err);
  }
  document.body.removeChild(textarea);
};










    contentDiv.appendChild(copyBtn);
    bubble.appendChild(contentDiv);
    const tsDiv = document.createElement("div");
    tsDiv.className = "timestamp";
    tsDiv.textContent = dateOnly;
    bubble.appendChild(tsDiv);
    if (isAdmin) {
      const btns = document.createElement("div");
      btns.className = "bubble-buttons";
      btns.style.display = "block";
      const editBtn = document.createElement("button");
      editBtn.textContent = "수정";
      editBtn.onclick = () => {
        document.getElementById("newMessage").value = msg;
        document.getElementById("prefix").value = prefix;
        editingId = id;
      };
const delBtn = document.createElement("button");
delBtn.textContent = "삭제";
delBtn.onclick = async () => {
  const ok = confirm("정말 삭제하시겠습니까?");
  if (!ok) return; 
  await deleteDoc(doc(db, "message", id));
  loadMessages();
};
      btns.appendChild(editBtn);
      btns.appendChild(delBtn);
      bubble.appendChild(btns);
    }
    container.appendChild(bubble);
  });

filterMessages(); 
container.scrollTop = container.scrollHeight;


if (isAdmin) {
  const visitorContainer = document.getElementById("visitor-messages");
  if (visitorContainer) {
    const visitorSnap = await getDocs(query(collection(db, "visitor_requests"), orderBy("timestamp", "desc")));
    visitorSnap.forEach(docSnap => {
      const data = docSnap.data();
      const ts = data.timestamp ? data.timestamp.toDate() : new Date();
const id = docSnap.id;
const dateOnly = `${String(ts.getFullYear()).slice(2)}-${String(ts.getMonth()+1).padStart(2, '0')}-${String(ts.getDate()).padStart(2, '0')} ${String(ts.getHours()).padStart(2, '0')}:${String(ts.getMinutes()).padStart(2, '0')}`;
      const bubble = document.createElement("div");
      bubble.className = "chat-card";
      bubble.style.backgroundColor = "#fff4e6";
bubble.style.position = "relative";
if (isAdmin) {
  const delBtn = document.createElement("div");
  delBtn.textContent = "❌";
  delBtn.style.cssText = `
    position: absolute;
    top: 8px;
    right: 12px;
    cursor: pointer;
    font-size: 14px;
    color: red;
  `;
  delBtn.title = "삭제";
delBtn.onclick = async () => {
  const ok = confirm("정말 삭제하시겠습니까?");
  if (!ok) return;
  await deleteDoc(doc(db, "visitor_requests", id));
  bubble.remove(); 
};
  bubble.appendChild(delBtn);
}      


const content = document.createElement("div");
content.className = "chat-content";

// 링크 자동 변환 및 줄바꿈


const linkifiedContent = data.content
  .replace(/(https?:\/\/[^\s<]+)/g, '<a href="$1" target="_blank" style="color:#1a0dab; text-decoration: underline;">$1</a>')  // 수정됨
  .replace(/\n/g, "<br>");



content.innerHTML = `<strong>📩 방문자 메시지</strong><br><div class="inner-text">${linkifiedContent}</div>`;

// 복사 버튼 추가
const copyBtn = document.createElement("button");
copyBtn.textContent = "복사";
copyBtn.style.cssText = "position: absolute; bottom: 5px; left: 10px; font-size: 12px; padding: 4px 8px; border-radius: 6px; background-color: #eee; color: #000; border: none; cursor: pointer;";

copyBtn.onclick = () => {
  const rawText = data.content.trim();
  const textarea = document.createElement("textarea");
  textarea.value = rawText;
  textarea.setAttribute("readonly", "");
  textarea.style.position = "absolute";
  textarea.style.left = "-9999px";
  document.body.appendChild(textarea);
  textarea.select();
  try {
    document.execCommand("copy");
    const toast = document.getElementById("toast");
    toast.style.display = "block";
    setTimeout(() => (toast.style.display = "none"), 1500);
  } catch (err) {
    console.error("복사 실패", err);
  }
  document.body.removeChild(textarea);
};

bubble.appendChild(copyBtn);







      const tsDiv = document.createElement("div");
      tsDiv.className = "timestamp";
      tsDiv.textContent = dateOnly;
      bubble.appendChild(content);
      bubble.appendChild(tsDiv);
      visitorContainer.appendChild(bubble);
    });
  }
}}async function addOrUpdateMessage() {
  const content = document.getElementById("newMessage").value.trim();
  const prefix = document.getElementById("prefix").value;
  if (!content) return;
  if (editingId) {
    await updateDoc(doc(db, "message", editingId), { content, prefix });
    editingId = null;
  } else {
    await addDoc(collection(db, "message"), { content, prefix, timestamp: serverTimestamp() });
  }
  document.getElementById("newMessage").value = "";
  loadMessages();
}async function showPasswordPrompt() {
  const pwd = prompt("비밀번호를 입력하세요");
  if (!pwd) return;
  try {
    const docRef = doc(db, "admin", "secret");
    const docSnap = await getDoc(docRef);
    if (!docSnap.exists()) {
      alert("비밀번호 데이터가 존재하지 않습니다.");
      return;
    }
    const realPassword = docSnap.data().password;
    if (pwd === realPassword) {
      isAdmin = true;
      document.getElementById("input-area").style.display = "block";
      loadMessages();
    } else {
      alert("비밀번호가 틀렸습니다.");
    }
  } catch (error) {
    console.error("비밀번호 확인 중 오류 발생:", error);
    alert("오류가 발생했습니다.");
  }
}





function filterMessages() {
  const queryText = document.getElementById("searchInput").value.toLowerCase().trim();
  const selectedPrefix = document.getElementById("prefixFilter")?.value || "";
  const bubbles = document.querySelectorAll(".chat-card");

  // 검색어를 공백 기준으로 분리
  const searchTokens = queryText.split(/\s+/).filter(Boolean);

  bubbles.forEach(b => {
    const text = b.textContent.toLowerCase();
    const prefixMatch = selectedPrefix === "" || text.includes(selectedPrefix.toLowerCase());

    // 입력된 단어들이 순서대로 포함되어 있는지 확인
    let lastIndex = -1;
    let textMatch = true;
    for (const token of searchTokens) {
      const index = text.indexOf(token, lastIndex + 1);
      if (index === -1) {
        textMatch = false;
        break;
      }
      lastIndex = index;
    }

    b.style.display = (prefixMatch && textMatch) ? "block" : "none";
  });

  const container = document.getElementById("chatBox");
  container.scrollTop = container.scrollHeight;
}






window.addOrUpdateMessage = addOrUpdateMessage;
window.showPasswordPrompt = showPasswordPrompt;
function getKSTDateKey() {
  const now = new Date();
  const kstOffset = 9 * 60 * 60 * 1000; // 한국은 UTC+9
  const kstNow = new Date(now.getTime() + kstOffset);
  return kstNow.toISOString().split('T')[0];
}

window.filterMessages = filterMessages;
window.onload = () => {
  loadMessages();
  countVisitor();
  countTodayUploadRequests();
};





async function countVisitor() {
  const todayKey = getKSTDateKey(); // 한국 시간 기준 날짜 키
  const visited = localStorage.getItem('visited_' + todayKey);
  if (visited) {
    getVisitorCount(todayKey); // ✅ 날짜 넘겨줌 (함수도 변경했기 때문)
    return;
  }

  const counterRef = doc(db, "visit_count", todayKey); // ✅ 날짜별로 저장
  const snap = await getDoc(counterRef);
  if (snap.exists()) {
    const current = snap.data().total || 0;
    await setDoc(counterRef, { total: current + 1 });
    displayVisitorCount(current + 1);
  } else {
    await setDoc(counterRef, { total: 1 });
    displayVisitorCount(1);
  }

  localStorage.setItem('visited_' + todayKey, 'true');
}

async function getVisitorCount(todayKey) {
  const counterRef = doc(db, "visit_count", todayKey); // 날짜별 문서로 조회
  const snap = await getDoc(counterRef);
  if (snap.exists()) {
    const current = snap.data().total || 0;
    displayVisitorCount(current);
  } else {
    displayVisitorCount(0); // 오늘 기록이 아직 없을 경우
  }
}


function displayVisitorCount(count) {
  const visitDiv = document.getElementById("visit-count");
  if (visitDiv) {
    visitDiv.textContent = `오늘 방문자 수: ${count.toLocaleString()}명`;
  }
}countVisitor();
window.submitVisitorMessage = async function() {
  const content = document.getElementById("visitorMessage").value.trim();
  if (!content) return alert("메시지를 입력해주세요.");
  try {
    await addDoc(collection(db, "visitor_requests"), {
      content,
      timestamp: serverTimestamp()
    });
    alert("전송 완료. 수동 업데이트이니 조금만 기다려 주세요.");
    document.getElementById("visitorMessage").value = "";
    document.getElementById("visitor-message-box").style.display = "none";
  } catch (e) {
    console.error("전송 실패", e);
    alert("전송 실패");
  }
};
document.getElementById("uploadRequestBtn").onclick = () => {
  const box = document.getElementById("visitor-message-box");
  box.style.display = box.style.display === "none" ? "flex" : "none";
};
async function countTodayUploadRequests() {
  const todayKey = getKSTDateKey(); // YYYY-MM-DD
  const start = new Date(`${todayKey}T00:00:00+09:00`);
  const end = new Date(`${todayKey}T23:59:59+09:00`);

  const q = query(collection(db, "visitor_requests"));
  const snapshot = await getDocs(q);

  let count = 0;
  snapshot.forEach(docSnap => {
    const ts = docSnap.data().timestamp?.toDate();
    if (ts && ts >= start && ts <= end) {
      count++;
    }
  });

  const countDiv = document.getElementById("upload-count");
  if (countDiv) {
    countDiv.textContent = `오늘 업로드 요청: ${count.toLocaleString()}건`;
  }
}

</script>

</body>
</html>